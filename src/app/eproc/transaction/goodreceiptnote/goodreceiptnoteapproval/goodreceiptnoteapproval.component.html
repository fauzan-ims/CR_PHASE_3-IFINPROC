<div class="main-content">
    <!-- spinner region -->
    <div class="panel-container-spinner" *ngIf="showSpinner">
      <app-spinner class="spinner-container"></app-spinner>
    </div>
    <!-- end spinner region -->
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <!--#region watermark-->
          <div class="watermark" [hidden]="this.isWatermark === '0'">
            <h6>{{this.companyName}}</h6>
            <h6>{{this.userName}}</h6>
            <h6>{{this.sysDate | date}} {{this.currentTime}}</h6>
          </div>
          <!--#endregion watermark-->
          <div class="card-header">
            <h5 class="card-title">Good Receipt Note Info</h5>
          </div>
          <div class="card-body">  
              <!--#region div-->
              <div class="row">
                <!--#region code-->
                <div class="col-md-4">
                  <div [hidden]="model.code != null" class="row" style="margin-bottom: -15px; padding-top: 30px;">
                    <h1 class="col-md-4" style="font-size: 12px;">Code</h1>
                    <h1 class="col-md-8" style="font-size: 12px;">-Auto
                      Generate-</h1>
                  </div>
                  <div [hidden]="model.code == null" class="form-group">
                    <label>Code</label>
                    <input type="text" class="form-control" [ngModel]="model.code" name="p_code" readonly>
                  </div>
                </div>
                <!--#endregion code-->
  
                <!--#region company_code-->
                <input type="text" class="form-control" [ngModel]="model.company_code" maxlength="50"
                  name="p_company_code" #company_code="ngModel" hidden>
                <!--#endregion company_code-->
  
                <!--#region branch_code-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="branch_code" class="control-label">Branch</label>
                    <input type="hidden" name="p_branch_code" [ngModel]="model.branch_code" #branch_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.branch_name" maxlength="250"
                      name="p_branch_name" #branch_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion branch_code-->
  
                <!--#region status-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="status" class="control-label">Status</label>
                    <input maxlength="20" type="text" class="form-control" [ngModel]="model.status" name="p_status"
                      readonly>
                  </div>
                </div>
                <!--#endregion status-->
  
                <!--#region receive_date-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="receive_date" class="control-label">Receive date</label>
                    <div>
                      <input class="form-control col-md-6" placeholder="dd/mm/yyyy" angular-mydatepicker
                        [ngModel]="model.receive_date" name="p_receive_date" [options]="myDatePickerOptions"
                        #p_receive_date="ngModel" #receive_date="angular-mydatepicker" autocomplete="off"
                        (click)="receive_date.toggleCalendar()" [ngStyle]="getStyles(this.tampHidden)"
                        [readonly]="this.tampHidden || param !== null" />
                    </div>
                  </div>
                </div>
                <!--#endregion receive_date-->
  
                <!--#region purchase_order_code-->
                <div class="col-md-4">
                  <label class="control-label">Purchase Order</label>
                  <div class="form-group">
                    <div class="col-md-12">
                      <span>
                        <button class="btn btn-icon btn-outline-default btn-round btn-md btn-lookup-margin" type="button"
                          data-target="#lookupModalPO" data-toggle="modal" href="#" 
                          [disabled]="this.tampHidden || param !== null">>
                          <i class="fa fa-search-plus"></i></button> {{model.purchase_order_code}}
                      </span>
                    </div>
                  </div>
                </div>
                <!--#endregion purchase_order_code-->
  
                <!--#region supplier_code-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="supplier_code" class="control-label">Supplier</label>
                    <input type="hidden" name="p_supplier_code" [ngModel]="model.supplier_code"
                      #supplier_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.supplier_name" name="p_supplier_name"
                      #supplier_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion supplier_code-->
  
                <!--#region division_code-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="division_code" class="control-label">Division</label>
                    <input type="hidden" name="p_division_code" [ngModel]="model.division_code" maxlength="50"
                      #division_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.division_name" maxlength="250"
                      name="p_division_name" #division_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion division_code-->
  
                <!--#region department_code-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="department_code" class="control-label">Department</label>
                    <input type="hidden" name="p_department_code" [ngModel]="model.department_code" maxlength="50"
                      #department_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.department_name" maxlength="250"
                      name="p_department_name" #department_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion department_code-->
  
                <!--#region sub_department_code-->
                <div class="col-md-4" hidden>
                  <div class="form-group">
                    <label for="sub_department_code" class="control-label">Sub Department</label>
                    <input type="hidden" name="p_sub_department_code" [ngModel]="model.sub_department_code" maxlength="50"
                      #sub_department_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.sub_department_name" maxlength="250"
                      name="p_sub_department_name" #sub_department_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion sub_department_code-->
  
                <!--#region units_code-->
                <div class="col-md-4" hidden>
                  <div class="form-group">
                    <label for="units_code" class="control-label">Unit</label>
                    <input type="hidden" name="p_units_code" [ngModel]="model.units_code" maxlength="50"
                      #units_code="ngModel" />
                    <input type="text" class="form-control" [ngModel]="model.units_name" maxlength="250"
                      name="p_units_name" #units_name="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion units_code-->
  
                <!--#region unit from-->
                <div class="col-md-4">
                  <label>Unit From</label>
                  <div class="form-group col-md-12">
                    <div class="row">
                      <div class="form-check-radio form-check-inline">
                        <label class="form-check-label">
                          <input [disabled]="this.tampHidden" class="form-check-input" type="radio" name="p_unit_from"
                            disabled #unit_from="ngModel" value="BUY" [(ngModel)]="model.unit_from">BUY
                          <span class="form-check-sign"></span>
                        </label>
                      </div>
                      <div class="form-check-radio form-check-inline">
                        <label class="form-check-label">
                          <input [disabled]="this.tampHidden" class="form-check-input" type="radio" name="p_unit_from"
                            disabled #unit_from="ngModel" value="RENT" [(ngModel)]="model.unit_from">RENT
                          <span class="form-check-sign"></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
                <!--#endregion unit from-->
  
                <!--(+) Ari 2024-03-22 ket : add cr-->
                <!--region total received quantity-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="total_receive_quantity" class="control-label">Total Receive Quantity</label>
                    <input type="text" class="form-control col-md-6"
                      [ngModel]="model.total_receive_quantity | number : '1.2-2'" name="p_total_receive_quantity"
                      #total_receive_quantity="ngModel" readonly>
                  </div>
                </div>
                <!--endregion total received quantity-->
  
                <!--region total unit price-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="total_unit_price" class="control-label">Total Unit Price</label>
                    <input type="text" class="form-control col-md-6" [ngModel]="model.total_unit_price | number : '1.2-2'"
                      name="p_total_unit_price" #total_unit_price="ngModel" readonly>
                  </div>
                </div>
                <!--endregion total received quantity-->
  
                <!--#region total_ppn-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="total_ppn" class="control-label">Total PPN</label>
                    <input type="text" class="form-control col-md-6" style="text-align: right;" maxlength="24"
                      [ngModel]="model.total_ppn | number : '1.2-2'" name="p_total_ppn" #total_ppn="ngModel" readonly>
                  </div>
                </div>
                <!--#endregion total_ppn-->
  
                <!--region total pph-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="total_pph" class="control-label">Total PPH</label>
                    <input type="text" class="form-control col-md-6" [ngModel]="model.total_pph | number : '1.2-2'"
                      name="p_total_pph" #total_pph="ngModel" readonly>
                  </div>
                </div>
                <!--endregion total pph-->
  
                <!--region total grn amount-->
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="total_grn_amount" class="control-label">Total GRN Amount</label>
                    <input type="text" class="form-control col-md-6" [ngModel]="model.total_grn_amount | number : '1.2-2'"
                      name="p_total_grn_amount" #total_grn_amount="ngModel" readonly>
                  </div>
                </div>
                <!--endregion total grn amount-->
                <!--(+) Ari 2024-03-22-->
  
                <!--#region remark-->
                <div class="col-md-4">
                  <div class="form-group" [class.has-error]="remark.invalid && remark.touched">
                    <label for="remark" class="control-label">Remark *</label>
                    <textarea type="text" class="form-control" [ngModel]="model.remark" name="p_remark" maxlength="4000"
                    #remark="ngModel" disabled></textarea>
                  </div>
                </div>
                <!--#endregion remark-->
  
              </div>
              <!--#endregion div-->
          </div>
          <span layout="row horizontal-divider">
            <hr flex />
          </span>
          <!--#region list view-->
          <div *ngIf="param != null" class="row">
            <div class="col-md-12">
              <div class="card-header">
                <h5 class="card-title">Good Receipt Note Item List</h5>
              </div>
              <div class="card-body">
                <div class="toolbar">
                  <!--#region button-->
                  <!-- <button class="btn btn-danger btn-round" (click)="btnDeleteAll()" data-role="R00015850001586D"
                    [hidden]="this.tampHidden">
                    Delete
                  </button> -->
                  <button hidden id="GoodReciptNote" type="button" (click)="btnReload()"></button>
  
                  <!--#endregion button-->
                </div>
                <!--#region list view-->
                <table id="datatablereceiptnote" datatable [dtOptions]="dtOptions"
                  class="table table-striped table-bordered row-border hover" cellspacing="0" width="100%">
                  <thead>
                    <tr>
                      <th class="disabled-sorting">No</th>
                      <th>Item</th>
                      <th>Remaining QTY</th>
                      <th>Receive QTY</th>
                      <th>UOM</th>
                      <th>Unit Price</th>
                      <th>PPH</th>
                      <th>PPN</th>
                      <th>Spesification</th>
                      <th style="text-align: center;">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let row of supplierColDetailList;let i=index ">
                      <td class="if-no-edit-btn" style="text-align: center;">
                        {{supplierColDetailList.numberIndex+i+1}}</td>
                      <td style="text-align: left; width: 15%;">{{row.item_name }}</td>
                      <td style="text-align: center; width: 10%;">{{row.po_quantity}}</td>
                      <td style="text-align: center; width: 10%;">{{row.receive_quantity}}</td>
                      <td style="text-align: center; width: 15%;">{{row.uom_name}}</td>
                      <td style="text-align: right; width: 15%;">{{row.price_amount | number : '1.2-2'}}</td>
                      <td style="width: 10%;text-align: right;">{{ row.pph_amount | number : '1.2-2'}}</td>
                      <td style="width: 10%;text-align: right;">{{ row.ppn_amount | number : '1.2-2'}}</td>
                      <td style="text-align: left; width: 15%;">{{row.spesification}}</td>
                      <td style="text-align: center;">
                        <a class="btn btn-warning btn-link btn-icon btn-sm edit" title="Edit" (click)="btnEdit(row.id)">
                          <i class="fa fa-edit"></i></a>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <!--#endregion list view-->
              </div>
            </div>
          </div>
          <!--#endregion list view-->
        </div>
      </div>
    </div>
  </div>